import{K as d,y as x,u as T,L as f,r as p,j as t,M as y,o as L,J as _,N as A,m as C,a as m,O as N,Q as I,T as v}from"./index-D_IVK7XO.js";function g(s,l="1ee6"){function u(i){return!isNaN(i)&&i>=0}const e=s.value.replace(/\s/g,"");let n;if(e.endsWith("%")){const i=e.slice(0,-1);if(d(i))n="0";else{const a=Number(i);if(!u(a))n="0";else if(a>100)n="100%";else{const c=Number(a.toFixed(4));c===0?n="0":n=c+"%"}}}else{const i=Number(e);if(!u(i))n="0";else if(!d(e)&&i<1e16)n=String(Math.floor(i));else{const a=x(e).floor();if(a.greaterThan(l))n=String(l);else if(a.equals(0)||a.isNan())n="0";else{const c=a.mantissa,E=a.exponent;n=Number(c.toFixed(8))+"e"+E}}}return s.value=n,n}function h(s){let r=s.value;return r.length>25&&(r=r.slice(0,25)),s.value=r,s.style.setProperty("--chars",String(Math.max(r.length+1,1))),r}function F(){const s=T({player:["nullions","nullionInput"],cachedPlayer:["nullionInputConverted"]},{useFormat:!0}),l=f.useRef(null);f.useLayoutEffect(()=>{u(),o()},[l.current]),f.useLayoutEffect(()=>{const e=l.current;e&&e.value!==s.nullionInput&&(e.value=s.nullionInput,g(e),h(e))},[s.nullionInput]);const r=s.nullionInput.includes("%");function o(){const e=l.current;if(!e)return;const n=h(e);p().setPlayer({nullionInput:n})}function u(){const e=l.current;if(!e)return;const n=g(e);o(),p().setPlayer({nullionInput:n})}return t.jsxs("button",{className:L("[background-image:var(--nullifice-gradient-bg)]","border-image-gradient [border-image-source:var(--nullifice-gradient-bg)]","hover:[border-image-source:var(--nullifice-gradient)]"),onClick:y,children:[t.jsxs("p",{children:[t.jsx("span",{className:"nullifice",children:"Nullifice - "}),t.jsx("span",{className:"nullifice-description",children:"sacrifice Nullith Resets to get Nullions that boost Nullith Resets. Enter the number or percentage of Nullith Resets you want to sacrifice"}),t.jsx("br",{}),t.jsx("br",{}),t.jsx(_,{currencyId:"nullions",mainTextClassName:"nullifice",effectClassName:"nullifice-description",formatType:"integerComma",passiveGainPriority:!1,effectNodes:[{node:({player:e,cachedPlayer:n})=>{const i=A(n,"nullions","madeNullithResets");return t.jsxs(t.Fragment,{children:[C(i,"madeNullithResets"),m(e,"dertoint_2")&&t.jsxs(t.Fragment,{children:[", ",N("madeTierTimes",i)]}),m(e,"dertoint_3")&&t.jsxs(t.Fragment,{children:[", ",N("dertoints",i)]})]})}}]})]}),t.jsxs("span",{className:"nullifice",children:["Sacrifice"," ",t.jsx("input",{id:"nullion-input",ref:l,type:"text",className:"auto-input",onClick:e=>e.stopPropagation(),onChange:o,onBlur:u})," ",r?`= ${I(s.nullionInputConverted,"Nullith Reset")}`:v("Nullith Reset",+s.nullionInputConverted)]})]})}export{F as default};
