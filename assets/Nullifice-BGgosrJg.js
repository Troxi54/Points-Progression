import{l as g,D as I,u as v,r as p,p as h,j as s,k as y,c as D,m,a as T}from"./index-Ctm8Ke0O.js";import{a as P}from"./playerActions-CiymZEIs.js";function b(n,i="1ee6"){const e="0";function c(l){return!isNaN(l)&&l>=0}const a=n.value.replace(/\s/g,"");let t;if(a.endsWith("%")){const l=a.slice(0,-1);if(g(l))t=e;else{const r=Number(l);if(!c(r))t=e;else if(r>100)t="100%";else{const u=Number(r.toFixed(4));u===0?t="0":t=u+"%"}}}else{const l=Number(a);if(!c(l))t=e;else if(!g(a)&&l<1e16)t=String(Math.floor(l));else{const r=new I(a).floor();if(r.greaterThan(i))t=String(i);else if(r.equals(0)||r.isNan())t=e;else{const u=r.mantissa,f=r.exponent;t=Number(u.toFixed(8))+"e"+f}}}return n.value=t,t}function E(n){let e=n.value;return e.length>25&&(e=e.slice(0,25)),n.value=e,n.size=Math.max(e.length,1),e}function x(n){let i;n instanceof HTMLInputElement?i=b(n):i=b(n.currentTarget),N(n);const{setPlayer:e}=T.getState();e({nullionInput:i})}function N(n){let i;n instanceof HTMLInputElement?i=E(n):i=E(n.currentTarget);const{setPlayer:e}=T.getState();e({nullionInput:i})}function _(){const{nullions:n,nullionGain:i,nullionEffect:e,nullionInput:d,nullionInputConverted:c,boughtSecondDertointUpgrade:a,boughtThirdDertointUpgrade:t}=v(o=>({nullions:o.player.nullions,nullionGain:o.cachedPlayer.nullionGain,nullionEffect:o.cachedPlayer.nullionEffect,nullionInput:o.player.nullionInput,nullionInputConverted:o.cachedPlayer.nullionInputConverted,boughtSecondDertointUpgrade:o.player.boughtSecondDertointUpgrade,boughtThirdDertointUpgrade:o.player.boughtThirdDertointUpgrade})),l=p.useRef(null),r=p.useRef(d);p.useLayoutEffect(()=>{l.current&&(l.current.value=r.current,x(l.current),N(l.current))},[l]);const u=d.includes("%"),f=h("Tier Reset",+e),R=h("Dertoint",+e);return s.jsxs("button",{className:"bg-linear-to-r from-nullifice-bg-1 to-nullifice-bg-2 border-image-gradient [border-image-source:var(--nullifice-gradient-bg)] hover:[border-image-source:var(--nullifice-gradient)]",onClick:P,"aria-label":"Convert Nullith Resets into Nullions",children:[s.jsxs("p",{children:[s.jsx("span",{className:"nullifice",children:"Nullifice - "}),s.jsx("span",{className:"nullifice-description",children:"sacrifice Nullith Resets to get Nullions that boost Nullith Resets. Enter the number or percentage of Nullith Resets you want to sacrifice"}),s.jsx("br",{}),s.jsx("br",{}),s.jsxs("span",{className:"nullifice",children:["Nullions: ",y(n)," -"," "]}),s.jsxs("span",{className:"nullifice-description",children:["Effect: ",D(e,"Nullith Reset","x "),t?`, ${f} and ${R}`:a?` and ${f}`:""]})]}),s.jsxs("span",{className:"nullifice",children:["Sacrifice ",u&&"(",s.jsx("input",{id:"nullifice-input",ref:l,type:"text",onClick:o=>o.stopPropagation(),onBlur:x,onChange:N,"aria-label":"Enter Nullith Resets to sacrifice"})," ",u?`= ${m(c,"Nullith Reset")}) `:`${h("Nullith Reset",+c)}`," ","for ",m(i,"Nullion")]})]})}export{_ as default};
